<html lang="en">
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<style type="text/css">
   body { line-height: 1.5; }
</style>
<head>
<title> Instructions for Conograph CUI program </title>
</head>
<body lang="en">
<font size="+1"><b> Instructions for Conograph CUI program </b></font><br>
<font size="-1" color="#339999"> [English / <a href="InstructionsConograph_JP.html">Japanese</a>] </font> <br>

<p>
<font size="-1" color="#CC0000"> Distribution of the Conograph GUI test version started at <a href="http://research.kek.jp/people/rtomi/ConographGUI/web_page.html">this website</a> recently (4/26/2013).</font>
</p>
<p>
Version 0.99 is the initial release of the core program of the Conograph software (<a href="http://sourceforge.jp/projects/conograph/releases/">download page</a> in SourceForge.jp)
which executes powder auto-indexing by the method introduced in [<a href="#ref2">2</a>], [<a href="#ref3">3</a>] for the first time.
</p>

<DIV style="text-align:left;">
 <DIV style="text-align:right;float:right;">
<table border="0" cellpadding="0">
  <tr>
	<td align="center" width="400">
<div align="center">
   <p class="image"><img src="figures/outline.png" width="348" height="169" alt="Figure 2" border="0"></p>
   <p class="caption ">Figure 1: three main stages of powder auto-indexing </p>
</div>
        </td>
  </tr>
</table>
 </DIV>
<p>
Conograph executes extensive powder auto-indexing searches in comparatively short time frames for powder diffraction patterns including ones from spallation neutrons.
After the peak search is finished, the powder auto-indexing is completed by carrying out the three main stages that are shown in Figure 1.
An error-stable Bravais lattice determination is necessary, because Conograph uses an enumeration algorithm that commonly works 
for any Bravais lattice, space group and type of systematic absences, and observational errors in peak positions
are propagated to the unit-cell parameters that are obtained.
</p>

<p>
When the regular search option is selected, Conograph completes all of the procedures in about 10 minutes using the default parameters prepared for Conograph.
In the quick search option, the time will not be more than 5 minutes. 
(The times were obtained using an Intel® Core™ i7 Processor (3.2 GHz, 8 threads).  
If a less powerful processor is used, then the search options will take more time.)
</p>

<p>
If you have not used Conograph before, then it is best to choose the regular search option,
because this allows you to use the default searching parameters
without changes even in difficult cases.  
The Quick quick search option without modifications to the parameters also works well if the unit-cell has a small volume or high symmetry. 
The differences between the two searches is explained <a href="doc/TipsForPowderAutoIndexing.html#DifferenceTwoSearches">here</a>.</p>

</DIV>


<h2>NEWS</h2>
<dl>
  <dt>2016/9/7</dt>
  <dd>
<ul>
<li> The output format for base-centered monoclinic cells was corrected.
</ul>
  </dd>
</dl>

<h2>FAQ</h2>
<ul>
    <li><a href="#HowtoUse">How to use the Conograph Command User Interface (CUI)</a></li>
    <ul>
        <li><a href="#StartUpConograph">Starting Conograph</a></li>
        <li><a href="#AfterExecution">Refinement of the unit-cell parameters and the zero-point shift after the execution of a powder auto-indexing search</a></li>
    </ul>
    <li><a href="#TipsForPeakSearch">Tips for peak searching</a> 
    <li><a href="doc/TipsForPowderAutoIndexing.html">Tips for powder auto-indexing using Conograph</a> (link to another web page) 
    <ul>
        <li>A table of parameters in the *.inp.xml file </li>
        <li>What are the differences between the quick and regular search options?</li>
        <li>Which parameters should be modified when the results are not satisfactory?</li>
        <li>The powder auto-indexing outputs many unit-cells. How can I find the correct one? (Properties of figures of merit)</li>
        <li>Uniqueness of solutions in powder auto-indexing</li>
    </ul>
    <li><a href="#DifferenceFromGUI">Differences between CUI and GUI</a> (in preparation)</li>
    <li><a href="#HowtoReportBugs">How do I report bugs?</a></li>
    <li><a href="#Citation">How do I cite Conograph?</a></li>
    <li><a href="#copyright">About the copyright</a></li>
</ul>


<h3><a name="HowtoUse">How to use the Conograph Command User Interface (CUI).</a></h3>
<UL>
    <LI><b><a name="StartUpConograph">Starting Conograph</b></a>
<ol>
<LI> The Conograph program requires the following three input files. 
    (Examples can be found in the sample folder.)
    <UL>
    <LI> A *.inp.xml file that includes information about the input parameters (<a href="sample/sample5/Cimetidine-SR.inp.xml">Example</a>) </LI>
    <LI> A cntl.inp.xml that includes the names of the *.inp.xml file and the output file (<a href="sample/sample5/cntl.inp.xml">Example</a>) </LI>
    <LI> An IGOR text file that includes a powder diffraction pattern (X and Y coordinates and the error in Y) and the following information about peaks (<a href="sample/sample5/Cimetidine-SR_pks.histogramIgor">Example</a>. This file is outputted from the <a href="http://research.kek.jp/people/rtomi/InstructionsPeakSearch.html">peak search program</a> distributed separately)
        <ol type="a">
            <LI> peak-positions (2&theta;, time-of-flight, d) </LI>
            <LI> peak-heights (used only for display) </LI>
            <LI> full-widths-at-half-maximum (used to estimate errors of the peak-positions) </LI>
            <LI> 0/1 flags for the respective peaks for powder auto-indexing and computation of figures of merit </LI>
        </ol>
    </LI>
    </UL>
</LI>
<LI> Copy one of the folders from the sample folder.
     Modify the contents of the two xml-files, the name of *.inp.xml file, and 
     the 0/1 flags in the IGOR text file if necessary.
     If you change the name of the *.inp.xml file, then it will be necessary to modify the contents of the cntl.inp.xml file accordingly.</LI>

<LI> Open a command prompt or terminal window in your operating system.  <BR>
     Change the current folder to the folder that contains the modified cntl.inp.xml file.</LI>

<LI> Enter the absolute path to the Conograph.exe file on the command line and execute Conograph.</LI>
<LI> The CUI outputs an XML file containing a list of candidate unit-cells (<a href="figures/sample2.index.xml">Example of a hexagonal case</a>)
and awaits input from the user.
     At the top of the XML output file, unit-cells with the best value for the figures of merit are presented for each Bravais type.
        Just below the unit-cells, the unit-cell with the best value for the de Wolff figure of merit [<a href="#ref4">4</a>] from all of the obtained unit cells is presented.
</LI>

</OL>
</LI>

<LI><b><a name="AfterExecution">Refinement of the unit-cell parameters and the zero-point shift after the execution of a powder auto-indexing search</b></a>
<OL>
<LI value="6"> A number like 0403003 is associated with every unit-cell in the XML output file.
	If the user enters one of the numbers on the command line, 
the the unit-cell parameters and zero-point shift parameter are refined
and the program outputs an IGOR text file (<a href="figures/sample2_lattice(Hexagonal;23.1,23.1,10.7,90,90,120;70.3).histogramIgor">Example</a>) that includes the following information:
    <ol type="a">
        <li> a copy of the contents in the input IGOR text file </li>
        <li> positions of computed lines of the input unit-cell parameters </li>
        <li> the parameters and the Bravais lattice of the unit-cell </li>
    </ol>
    Until you terminate Conograph by entering quit,
    you can enter the number associated with any of the unit cells in the XML file as many times as you want.
    Before termination, Conograph outputs the following:
    <ul>
        <li> an XML file including information about refined unit-cell parameters and zero-point shifts (<a href="figures/sample2.index2.xml">Example</a>)
        <li> an IGOR text file unifying the IGOR text files output during refinement (<a href="figures/sample2_lattices.histogramIgor">Example</a>)
    </ul>

    </LI>
</ol>
</LI>
</UL>


<h3><a name="TipsForPeakSearch">Tips for peak searching</a></h3> 
<p>
If you have not used Conograph before, 
then our advice in peak search is to pick up all the diffraction peaks as uniformly as possible on the basis of their peak-heights.
(Such results will be obtained easily
by using the <a href="http://sourceforge.jp/projects/conograph/releases/">peak search program</a> equipped with Conograph.)
The enumeration algorithm of Conograph then determines in a comparatively short time
which combinations of peaks provide better solutions.
Unless you have any prior information about diffraction peaks,
it is better to avoid reducing the quality of input information
by selecting peaks or removing overlapped peaks artificiality.
</p>


<h3><a name="DifferenceFromGUI">Differences between CUI and GUI</a> (in preparation) </h3> 

<p>
As long as the IGOR Pro software is available,
powder auto-indexing in the CUI is not difficult.
The following are the chief advantages of the GUI.
<ul>
<li>
A peak search program is incorporated in the GUI.
</li>
<li>
At the start-up of the GUI program,
recommended values are automatically entered in the text boxes for the input parameters.  
</li>
<li>
Visual comparison between the powder diffraction pattern and the computed lines of the unit-cells 
is easier in the GUI.
</li>

<li>
In the CUI, solutions are sorted by the de Wolff figure of merit.
In the GUI, the other sorting criteria can be chosen anytime after the enumeration stage.
</li>

<li>
The CUI executes the various functions as successive procedures.
In the GUI, the computational time required for repeated execution may be shorter,
because the various functions are available separately and independently.
These functions include:
    <ol type = "a">
	<li> estimation of the zero-point shift &Delta;2&theta; by the reflection pair method [<a href="#ref1">1</a>]
	     (The CUI program outputs several candidate values on the command line in the initial stage of powder auto-indexing.)
        </li>
	<li> estimation of n required for computation of the de Wolff figure of merit M<Sub>n</Sub>
             (Some unit cells require n > 20 owing to existence of a dominant zone.)
        </li>
    </ol>
In order to use one of the above estimated values,
it is necessary to terminate the CUI program once.
Regarding a., 
this limitation of the CUI program is partly because 
use of &Delta;2&theta; = 0 is sufficient for many cases.
(For example, Conograph has obtained successful results even in the case where the correct &Delta;2&theta; is 0.195&deg;.)
</li>
</ul>

<p>
Figure 2 is a flowchart of the CUI:<BR>
<div align="center">
   <p class="image"><a href="figures/flowchart.png" target="_self"><img src="figures/flowchart.png" width="480" height="360" alt="Figure 2" border="0"></a></p>
   <p class="caption ">Figure 2: flowchart of CUI.<BR>
     (Click on the image to enlarge it.)</p>
</div>
</p>




<h3><a name="HowtoReportBugs">How do I report bugs?</a></h3>
<p>
You should send us a bug report with 
<u>all of the input and output files attached (including LOG_CONOGRAPH.txt)</u> to the following e-mail address: 
<UL>
<LI> conograph-bugs (at) ml.post.kek.jp </LI>
</UL>
</p>

<h3><a name="Citation">How do I cite Conograph?</a></h3>
<p>
If you use Conograph in your research then we strongly encourage you to include a citation of the following article in the bibliography.<BR>
 (Fullpapers about algorithms and results from Conograph are currently under revision as of 02/24/2013.)
<UL>
<LI> R. Oishi, M. Yonemura, T. Ishigaki, A. Hoshikawa, K. Mori, T. Morishima, S. Torii, T. Kamiyama,<BR>
<i>New approach to indexing method of powder diffraction patterns using topographs</i>,
Zeitschrift f&#252;r Kristallographie Supplements 30, pp.15--20.
</LI>
</UL>
</p>

<h3><a name="copyright">About the copyright</a></h3>
<p>
The versions of the source code are distributed as open source under the MIT license on the <a href="http://en.sourceforge.jp/projects/conograph/scm/svn/tree/head">repository list</a> of the Conograph project.
</p>

<h2><a name="Acknowledgments">Acknowledgments</a></h2>
<p>
I would like to express my gratitude to those who offered powder diffraction patterns for the Conograph project.
</p>

<h2><a name="References">References</a></h2>
<p>
<OL>
<a name="ref1"><LI></a>
C. Dong, F. Wu, H. Chen, <BR>
<i>Correction of zero shift in powder diffraction patterns using the reflection-pair method</i>, J. Appl. Cryst., 32, pp. 850-853 (1999).</LI>

<a name="ref2"><LI></a>
R. Oishi-Tomiyasu, <BR>
<i>Distribution rules of crystallographic systematic absences on the Conway topograph and their application to powder auto-indexing</i>, <a href="http://arxiv.org/abs/1211.3926">preprint</a>.
</LI>

<a name="ref3"><LI></a>
R. Oishi-Tomiyasu, <BR>
<i>Rapid Bravais-lattice determination algorithm for lattice constants containing large observation errors</i>, Acta Cryst. A, 68, pp. 525-535 (2012).
</LI>

<a name="ref4"><LI></a>
P. M. de Wolff, <BR>
<i>A simplified criterion for the reliability of a powder pattern indexing</i>, J. Appl. Cryst., 1, pp. 108-113 (1968).</LI>

</OL>
</p>

<A HREF="#">［Back to top]</A>
</body>

